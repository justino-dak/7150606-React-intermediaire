{"ast":null,"code":"var _jsxFileName = \"D:\\\\openclassrooms.com\\\\shiny-agency\\\\src\\\\pages\\\\Results\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { useContext } from 'react';\nimport styled from 'styled-components';\nimport EmptyList from '../../components/EmptyList';\nimport { SurveyContext } from '../../utils/context';\nimport colors from '../../utils/style/colors';\nimport { useFetch, useTheme } from '../../utils/hooks';\nimport { StyledLink, Loader } from '../../utils/style/Atoms';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResultsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 60px 90px;\n  padding: 30px;\n  background-color: ${({\n  theme\n}) => theme === 'light' ? colors.backgroundLight : colors.backgroundDark};\n`;\n_c = ResultsContainer;\nconst ResultsTitle = styled.h2`\n  color: ${({\n  theme\n}) => theme === 'light' ? '#000000' : '#ffffff'};\n  font-weight: bold;\n  font-size: 28px;\n  max-width: 60%;\n  text-align: center;\n  & > span {\n    padding-left: 10px;\n  }\n`;\n_c2 = ResultsTitle;\nconst DescriptionWrapper = styled.div`\n  padding: 60px;\n`;\n_c3 = DescriptionWrapper;\nconst JobTitle = styled.span`\n  color: ${({\n  theme\n}) => theme === 'light' ? colors.primary : colors.backgroundLight};\n  text-transform: capitalize;\n`;\n_c4 = JobTitle;\nconst JobDescription = styled.div`\n  font-size: 18px;\n  & > p {\n    color: ${({\n  theme\n}) => theme === 'light' ? colors.secondary : '#ffffff'};\n    margin-block-start: 5px;\n  }\n  & > span {\n    font-size: 20px;\n  }\n`;\n_c5 = JobDescription;\nconst LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n_c6 = LoaderWrapper;\nexport function formatQueryParams(answers) {\n  const answerNumbers = Object.keys(answers);\n  return answerNumbers.reduce((previousParams, answerNumber, index) => {\n    const isFirstParam = index === 0;\n    const separator = isFirstParam ? '' : '&';\n    return `${previousParams}${separator}a${answerNumber}=${answers[answerNumber]}`;\n  }, '');\n}\nexport function formatJobList(title, listLength, index) {\n  if (index === listLength - 1) {\n    return title;\n  } else {\n    return `${title},`;\n  }\n}\nfunction Results() {\n  _s();\n  const {\n    theme\n  } = useTheme();\n  const {\n    answers\n  } = useContext(SurveyContext);\n  const queryParams = formatQueryParams(answers);\n  const {\n    data,\n    isLoading,\n    error\n  } = useFetch(`http://localhost:8000/results?${queryParams}`);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Il y a un probl\\xE8me\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 12\n    }, this);\n  }\n  const resultsData = data === null || data === void 0 ? void 0 : data.resultsData;\n  if ((resultsData === null || resultsData === void 0 ? void 0 : resultsData.length) < 1) {\n    return /*#__PURE__*/_jsxDEV(EmptyList, {\n      theme: theme\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 12\n    }, this);\n  }\n  return isLoading ? /*#__PURE__*/_jsxDEV(LoaderWrapper, {\n    children: /*#__PURE__*/_jsxDEV(Loader, {\n      \"data-testid\": \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(ResultsContainer, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(ResultsTitle, {\n      theme: theme,\n      children: [\"Les comp\\xE9tences dont vous avez besoin :\", resultsData && resultsData.map((result, index) => /*#__PURE__*/_jsxDEV(JobTitle, {\n        theme: theme,\n        children: formatJobList(result.title, resultsData.length, index)\n      }, `result-title-${index}-${result.title}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledLink, {\n      $isFullLink: true,\n      to: \"/freelances\",\n      children: \"D\\xE9couvrez nos profils\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DescriptionWrapper, {\n      children: resultsData && resultsData.map((result, index) => /*#__PURE__*/_jsxDEV(JobDescription, {\n        theme: theme,\n        children: [/*#__PURE__*/_jsxDEV(JobTitle, {\n          theme: theme,\n          \"data-testid\": \"job-title\",\n          children: result.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"job-description\",\n          children: result.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 15\n        }, this)]\n      }, `result-detail-${index}-${result.title}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n_s(Results, \"xKrAnHTbGfQsMLoFWvjT3LZ6C28=\", false, function () {\n  return [useTheme, useFetch];\n});\n_c7 = Results;\nexport default Results;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"ResultsContainer\");\n$RefreshReg$(_c2, \"ResultsTitle\");\n$RefreshReg$(_c3, \"DescriptionWrapper\");\n$RefreshReg$(_c4, \"JobTitle\");\n$RefreshReg$(_c5, \"JobDescription\");\n$RefreshReg$(_c6, \"LoaderWrapper\");\n$RefreshReg$(_c7, \"Results\");","map":{"version":3,"names":["useContext","styled","EmptyList","SurveyContext","colors","useFetch","useTheme","StyledLink","Loader","jsxDEV","_jsxDEV","ResultsContainer","div","theme","backgroundLight","backgroundDark","_c","ResultsTitle","h2","_c2","DescriptionWrapper","_c3","JobTitle","span","primary","_c4","JobDescription","secondary","_c5","LoaderWrapper","_c6","formatQueryParams","answers","answerNumbers","Object","keys","reduce","previousParams","answerNumber","index","isFirstParam","separator","formatJobList","title","listLength","Results","_s","queryParams","data","isLoading","error","children","fileName","_jsxFileName","lineNumber","columnNumber","resultsData","length","map","result","$isFullLink","to","description","_c7","$RefreshReg$"],"sources":["D:/openclassrooms.com/shiny-agency/src/pages/Results/index.jsx"],"sourcesContent":["import { useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport EmptyList from '../../components/EmptyList'\r\nimport { SurveyContext } from '../../utils/context'\r\nimport colors from '../../utils/style/colors'\r\nimport { useFetch, useTheme } from '../../utils/hooks'\r\nimport { StyledLink, Loader } from '../../utils/style/Atoms'\r\n\r\nconst ResultsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 60px 90px;\r\n  padding: 30px;\r\n  background-color: ${({ theme }) =>\r\n    theme === 'light' ? colors.backgroundLight : colors.backgroundDark};\r\n`\r\n\r\nconst ResultsTitle = styled.h2`\r\n  color: ${({ theme }) => (theme === 'light' ? '#000000' : '#ffffff')};\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  max-width: 60%;\r\n  text-align: center;\r\n  & > span {\r\n    padding-left: 10px;\r\n  }\r\n`\r\n\r\nconst DescriptionWrapper = styled.div`\r\n  padding: 60px;\r\n`\r\n\r\nconst JobTitle = styled.span`\r\n  color: ${({ theme }) =>\r\n    theme === 'light' ? colors.primary : colors.backgroundLight};\r\n  text-transform: capitalize;\r\n`\r\n\r\nconst JobDescription = styled.div`\r\n  font-size: 18px;\r\n  & > p {\r\n    color: ${({ theme }) => (theme === 'light' ? colors.secondary : '#ffffff')};\r\n    margin-block-start: 5px;\r\n  }\r\n  & > span {\r\n    font-size: 20px;\r\n  }\r\n`\r\n\r\nconst LoaderWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nexport function formatQueryParams(answers) {\r\n  const answerNumbers = Object.keys(answers)\r\n\r\n  return answerNumbers.reduce((previousParams, answerNumber, index) => {\r\n    const isFirstParam = index === 0\r\n    const separator = isFirstParam ? '' : '&'\r\n    return `${previousParams}${separator}a${answerNumber}=${answers[answerNumber]}`\r\n  }, '')\r\n}\r\n\r\nexport function formatJobList(title, listLength, index) {\r\n  if (index === listLength - 1) {\r\n    return title\r\n  } else {\r\n    return `${title},`\r\n  }\r\n}\r\n\r\nfunction Results() {\r\n  const { theme } = useTheme()\r\n  const { answers } = useContext(SurveyContext)\r\n  const queryParams = formatQueryParams(answers)\r\n\r\n  const { data, isLoading, error } = useFetch(\r\n    `http://localhost:8000/results?${queryParams}`\r\n  )\r\n\r\n  if (error) {\r\n    return <span>Il y a un problème</span>\r\n  }\r\n\r\n  const resultsData = data?.resultsData\r\n\r\n  if (resultsData?.length < 1) {\r\n    return <EmptyList theme={theme} />\r\n  }\r\n\r\n  return isLoading ? (\r\n    <LoaderWrapper>\r\n      <Loader data-testid=\"loader\" />\r\n    </LoaderWrapper>\r\n  ) : (\r\n    <ResultsContainer theme={theme}>\r\n      <ResultsTitle theme={theme}>\r\n        Les compétences dont vous avez besoin :\r\n        {resultsData &&\r\n          resultsData.map((result, index) => (\r\n            <JobTitle\r\n              key={`result-title-${index}-${result.title}`}\r\n              theme={theme}\r\n            >\r\n              {formatJobList(result.title, resultsData.length, index)}\r\n            </JobTitle>\r\n          ))}\r\n      </ResultsTitle>\r\n      <StyledLink $isFullLink to=\"/freelances\">\r\n        Découvrez nos profils\r\n      </StyledLink>\r\n      <DescriptionWrapper>\r\n        {resultsData &&\r\n          resultsData.map((result, index) => (\r\n            <JobDescription\r\n              theme={theme}\r\n              key={`result-detail-${index}-${result.title}`}\r\n            >\r\n              <JobTitle theme={theme} data-testid=\"job-title\">\r\n                {result.title}\r\n              </JobTitle>\r\n              <p data-testid=\"job-description\">{result.description}</p>\r\n            </JobDescription>\r\n          ))}\r\n      </DescriptionWrapper>\r\n    </ResultsContainer>\r\n  )\r\n}\r\n\r\nexport default Results\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}